# 搭建文档

今天试了试 astro，感觉真不错，文档整体阅读下来体验很舒服，跑起来也很快，一整个感觉很现代，而且 next 味好浓，next + tailwind 秒入门了～

1. 项目结构
   使用 [astro 项目结构](https://docs.astro.build/zh-cn/basics/project-structure/)，阅读 astro 文档以了解项目结构。
2. Prettier 格式化
   这次试了试 [prettier-plugin-lint-md](https://github.com/lint-md/prettier-plugin) 感觉挺好的，可以格式化 markdown 文件，遵循[中文技术文档的写作规范](https://github.com/ruanyf/document-style-guide)。
3. 从 hexo 迁移
   多亏这篇文章：[再见 Hexo，你好 Astro！](https://4ark.me/posts/2024-03-20-hexo-to-astro/)
   首先的问题是 link to 的迁移，因为 hexo 的 link 和 astro 的 page 冲突，需要使用内容集功能
   > 不过好在 Astro 处理起来并不复杂。只需创建一个名为 post/[slug]/index.astro 的页面，并在此页面中处理链接，将其与 md 文件中的 permalink 字段进行映射即可。

发现很多原来的 react 组件需要重构成 astro 组件才能最大化享受 astro 的好处，路漫漫兮～

## 感兴趣的

1. [Storyblok-Astro](https://github.com/storyblok/storyblok-astro)
   Storyblok-Astro 是一个为 Astro 框架开发的 Storyblok CMS 集成工具。支持可视化编辑器、支持动态路由、内容管理集成

2. [Spotlight](https://github.com/getsentry/spotlight/blob/main/packages/astro/README.md)
   Spotlight 是 Sentry 的错误监控工具，可以监控 Astro 应用程序的错误，并提供详细的错误报告和解决方案，Spotlight 是一个专门为 Astro 应用程序开发的工具包。它可以通过一个简单的命令就能将 Spotlight 功能集成到 Astro 应用中。

3. 白水推荐的 [astro-loading-indicator](https://github.com/florian-lefebvre/astro-loading-indicator)，很方便地搞定加载提示

## 致谢

感谢以下所有 astro 博客的仓库代码参考让我少走很多弯路～

- [yfi.moe](https://github.com/yy4382/yfi.moe)
- [waterwater.moe](https://github.com/lawvs/lawvs.github.io)
- [4ark.me](https://github.com/gd4Ark/gd4Ark.github.io)
- [Astro Boilerplate](https://github.com/ixartz/Astro-boilerplate)

## TODO

- [x] 将原本 Next 写的基本架子迁过来
- [x] Header、About 等 react 组件重构为 astro 组件
- [ ] Cover 组件重构为 astro 组件
- [ ] 一个酷炫首页
- [x] 站点 SEO
  - [x] 正文 SEO - jsonLD
  - [x] 首页 SEO
  - [ ] sitemap
- [ ] 文章列表 posts
  - [x] 基本 UI 和分页
  - [x] PostItemCard 组件重构为 astro 组件
  - [x] readTime 现在可以在静态获取的时候就获取
  - [ ] 文章列表底部分类卡片
  - [ ] 文章列表底部随机文章及最近评论
- [ ] 侧边栏 HomeSider
  - [ ] 重构为 astro 组件
  - [ ] 客户端组件，希望具有原 Hexo Shoka 的功能，在未加载出来的时候显示只有基本功能的侧边栏
- [ ] 文章正文 post
  - [x] 原 hexo 的 link 映射，参照 [4ark.me | 兼容旧链接#](https://4ark.me/posts/2024-03-20-hexo-to-astro/#%E5%85%BC%E5%AE%B9%E6%97%A7%E9%93%BE%E6%8E%A5)
  - [ ] 侧边目录和锚点跳转
  - [ ] 正文 Markdown 及 UI
  - [ ] 原 Hexo 的封面
  - [ ] 重定向 xxxxxx/link 到 xxxxxx/post/link
- [ ] 归档页面
- [ ] 标签页面
- [ ] 关于页面
- [ ] 友链页面
- [ ] 后台 CMS
- [ ] 404 页面
- [ ] 搜索
- [ ] 评论
  - [ ] auth
- [ ] 功能增强 / UI 增强
  - [ ] 导航栏 UI 优化（动画和当前页面指示）
  - [ ] 悬浮工具栏 - 回到顶部等
  - [ ] Footer 页脚 & 社交媒体链接组
  - [ ] 原 shoka 置顶文章属性 sticky true 支持
  - [ ] 鼠标特效粒子
  - [ ] AI 摘要
- [ ] 歌单页面
  - [ ] 音乐播放器
- [ ] 碎碎念频道页
- [ ] 图库频道页
